{
  "id": "@librainian/patrol-process",
  "scope": "@librainian",
  "version": "1.0.0",
  "author": "LiBrainian Core Team",
  "license": "MIT",
  "description": "Runs the typed patrol process pipeline for agent observation, signal extraction, and report generation",
  "agentDescription": "Runs the typed patrol process pipeline for agent observation, signal extraction, and report generation. Use this when task intent aligns with tags: core, process, patrol, agentic. Use this construction when an agent task matches patrol process workflows and the team needs a repeatable, typed analysis contract. It cannot replace full runtime verification and does not guarantee correctness outside the provided input and capability constraints.",
  "inputSchema": {
    "type": "object",
    "properties": {
      "repoPath": {
        "type": "string"
      },
      "mode": {
        "type": "string"
      },
      "command": {
        "type": "string"
      },
      "args": {
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "cwd": {
        "type": "string"
      },
      "env": {
        "type": "object",
        "additionalProperties": true
      },
      "dryRun": {
        "type": "boolean"
      },
      "keepSandbox": {
        "type": "boolean"
      },
      "policyTrigger": {
        "type": "string"
      },
      "policyConfig": {
        "type": "object",
        "additionalProperties": true
      },
      "policyDecisionOutputPath": {
        "type": "string"
      },
      "observationProtocol": {
        "type": "object",
        "properties": {
          "incrementalPrefix": {
            "type": "string"
          },
          "blockStart": {
            "type": "string"
          },
          "blockEnd": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "budget": {
        "type": "object",
        "properties": {
          "maxDurationMs": {
            "type": "number"
          },
          "maxTokenBudget": {
            "type": "number"
          },
          "maxUsd": {
            "type": "number"
          }
        },
        "additionalProperties": false
      },
      "timeoutMs": {
        "type": "number"
      }
    },
    "additionalProperties": true
  },
  "outputSchema": {
    "type": "object",
    "properties": {
      "report": {
        "type": "object"
      },
      "findings": {
        "type": "array"
      },
      "implicitSignals": {
        "type": "object"
      },
      "aggregate": {
        "type": "object"
      },
      "policyEnforcement": {
        "type": "object"
      },
      "exitReason": {
        "type": "string"
      },
      "events": {
        "type": "array"
      },
      "costSummary": {
        "type": "object"
      },
      "observations": {
        "type": "object"
      }
    },
    "required": [
      "report",
      "findings",
      "implicitSignals",
      "aggregate",
      "policyEnforcement",
      "exitReason",
      "events"
    ],
    "additionalProperties": true
  },
  "requiredCapabilities": [],
  "optionalCapabilities": [],
  "engines": {
    "librainian": ">=0.2.0"
  },
  "tags": [
    "core",
    "process",
    "patrol",
    "agentic"
  ],
  "trustTier": "official",
  "testedOn": [
    "typescript-monorepo"
  ],
  "examples": [
    {
      "title": "Example 1",
      "input": {},
      "output": {
        "summary": "Returns construction-specific analysis output"
      },
      "description": "Run patrol-process for a relevant intent"
    },
    {
      "title": "Example 2",
      "input": {},
      "output": {
        "summary": "Returns typed construction result payload"
      },
      "description": "Invoke librainian:patrol-process through registry routing"
    }
  ],
  "changelog": [
    {
      "version": "1.0.0",
      "date": "2026-02-25",
      "summary": "Initial official manifest export for Construction registry publishing."
    }
  ]
}
