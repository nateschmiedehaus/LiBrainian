pre-commit:
  parallel: true
  commands:
    generated-artifacts:
      run: node scripts/guard-generated-artifacts.mjs
    librainian-update:
      glob: "*.{ts,tsx,js,jsx,mjs,cjs}"
      run: node scripts/hook-update-index.mjs {staged_files}
      timeout: 30
pre-push:
  parallel: true
  commands:
    git-hygiene:
      run: node scripts/git-hygiene-guard.mjs --mode enforce --check-pr --require-issue-link
    patrol-smoke:
      run: node scripts/prepush-patrol-smoke.mjs
      optional: true
    proof-review-gate:
      glob: "state/*/self-dev-proof.json"
      run: node scripts/proof-review-gate.mjs --all
